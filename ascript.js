
// Drainage Locations
const drainagePoints =[
    { "name": "NMIET 1.1", "area": "NMIET" },
    { "name": "NMIET 1.2", "area": "NMIET" },
    { "name": "NMIET 1.3", "area": "NMIET" },
    { "name": "NMIET 1.4", "area": "NMIET" },
    { "name": "NMIET 1.5", "area": "NMIET" },
    { "name": "NMIET 1.6", "area": "NMIET" },
    { "name": "NMIET 1.7", "area": "NMIET" },
    { "name": "NMIET 1.8", "area": "NMIET" },
    { "name": "NMIET 1.9", "area": "NMIET" },
    { "name": "NMIET 1.10", "area": "NMIET" },
    { "name": "NMIET 1.11", "area": "NMIET" },
    { "name": "NMIET 1.12", "area": "NMIET" },
    { "name": "NMIET 1.13", "area": "NMIET" },
    { "name": "NMIET 1.14", "area": "NMIET" },
    { "name": "NMIET 1.15", "area": "NMIET" },
    { "name": "NMIET 1.16", "area": "NMIET" },
    { "name": "NMIET 1.17", "area": "NMIET" },
    { "name": "NMIET 1.18", "area": "NMIET" },
    { "name": "Latis Society 2.1", "area": "Latis Society" },
    { "name": "Latis Society 2.2", "area": "Latis Society" },
    { "name": "Latis Society 2.3", "area": "Latis Society" },
    { "name": "Latis Society 2.4", "area": "Latis Society" },
    { "name": "Latis Society 2.5", "area": "Latis Society" },
    { "name": "Latis Society 2.6", "area": "Latis Society" },
    { "name": "Latis Society 2.7", "area": "Latis Society" },
    { "name": "Latis Society 2.8", "area": "Latis Society" },
    { "name": "Latis Society 2.9", "area": "Latis Society" },
    { "name": "Latis Society 2.10", "area": "Latis Society" },
    { "name": "Latis Society 2.11", "area": "Latis Society" },
    { "name": "Latis Society 2.12", "area": "Latis Society" },
    { "name": "Latis Society 2.13", "area": "Latis Society" },
    { "name": "Latis Society 2.14", "area": "Latis Society" },
    { "name": "Latis Society 2.15", "area": "Latis Society" },
    { "name": "Latis Society 2.16", "area": "Latis Society" },
    { "name": "Latis Society 2.17", "area": "Latis Society" },
    { "name": "Latis Society 2.18", "area": "Latis Society" },
    { "name": "Latis Society 2.19", "area": "Latis Society" },
    { "name": "Latis Society 2.20", "area": "Latis Society" },
    { "name": "Latis Society 2.21", "area": "Latis Society" },
    { "name": "Latis Society 2.22", "area": "Latis Society" },
    { "name": "Latis Society 2.23", "area": "Latis Society" },
    { "name": "Latis Society 2.24", "area": "Latis Society" },
    { "name": "Latis Society 2.25", "area": "Latis Society" },
    { "name": "Latis Society 2.26", "area": "Latis Society" },
    { "name": "Latis Society 2.27", "area": "Latis Society" },
    { "name": "Shahu Colony 3.0", "area": "Shahu Colony" },
    { "name": "Shahu Colony 3.1", "area": "Shahu Colony" },
    { "name": "Shahu Colony 3.2", "area": "Shahu Colony" },
    { "name": "Shahu Colony 3.3", "area": "Shahu Colony" },
    { "name": "Shahu Colony 3.4", "area": "Shahu Colony" },
    { "name": "Shahu Colony 3.5", "area": "Shahu Colony" },
    { "name": "Shahu Colony 3.6", "area": "Shahu Colony" },
    { "name": "Shahu Colony 3.7", "area": "Shahu Colony" },
    { "name": "Shahu Colony 3.8", "area": "Shahu Colony" },
    { "name": "Shahu Colony 3.9", "area": "Shahu Colony" },
    { "name": "Shahu Colony 3.10", "area": "Shahu Colony" },
    { "name": "Shahu Colony 3.11", "area": "Shahu Colony" },
    { "name": "Shahu Colony 3.12", "area": "Shahu Colony" },
    { "name": "Shahu Colony 3.13", "area": "Shahu Colony" },
    { "name": "Shahu Colony 3.14", "area": "Shahu Colony" },
    { "name": "Shahu Colony 3.15", "area": "Shahu Colony" },
    { "name": "Shahu Colony 3.16", "area": "Shahu Colony" },
    { "name": "Shahu Colony 3.17", "area": "Shahu Colony" },
    { "name": "Shahu Colony 3.18", "area": "Shahu Colony" },
    { "name": "Shahu Colony 3.19", "area": "Shahu Colony" },
    { "name": "Shahu Colony 3.20", "area": "Shahu Colony" },
    { "name": "Shahu Colony 3.21", "area": "Shahu Colony" },
    { "name": "Vaibhav Apartment 4.1", "area": "Vaibhav Apartment" },
    { "name": "Vaibhav Apartment 4.2", "area": "Vaibhav Apartment" },
    { "name": "Vaibhav Apartment 4.3", "area": "Vaibhav Apartment" },
    { "name": "Vaibhav Apartment 4.4", "area": "Vaibhav Apartment" },
    { "name": "Vaibhav Apartment 4.5", "area": "Vaibhav Apartment" },
    { "name": "Vaibhav Apartment 4.6", "area": "Vaibhav Apartment" },
    { "name": "Vaibhav Apartment 4.7", "area": "Vaibhav Apartment" },
    { "name": "Vaibhav Apartment 4.8", "area": "Vaibhav Apartment" },
    { "name": "Vaibhav Apartment 4.9", "area": "Vaibhav Apartment" },
    { "name": "Vaibhav Apartment 4.10", "area": "Vaibhav Apartment" }
  ] ;
  

// Generate Random Sludge Flow
function generateRandomSludgeVolume() {
    return Math.floor(Math.random() * 500) + 100; // Random value between 100 and 600
}

// Generate Random Cleaning Data
function generateRandomCleanings() {
    return Math.floor(Math.random() * 6); // Random number of times cleaned (0 to 5)
}

// Generate Cleaning Prediction (random)
function generateNextCleaning() {
    return Math.random() < 0.5 ? "Needs Cleaning" : "Cleaned Recently";
}

// Sludge Flow Table
const drainageTableBody = document.getElementById("drainage-table-body");
drainagePoints.forEach(point => {
    const sludgeVolume = generateRandomSludgeVolume();
    const row = document.createElement("tr");
    row.innerHTML = `<td>${point.name}</td><td>${sludgeVolume} Litres</td>`;
    drainageTableBody.appendChild(row);
});

// Area-wise Sludge Flow
const areaSludgeFlow = { "NMIET": 0, "Shahu Colony": 0, "Vaibhav Apartment": 0, "Latis Society": 0 };
drainagePoints.forEach(point => {
    const sludgeVolume = generateRandomSludgeVolume();
    areaSludgeFlow[point.area] += sludgeVolume;
});

// Area Sludge Summary Table
const areaSummaryTableBody = document.getElementById("area-summary-table-body");
for (let area in areaSludgeFlow) {
    const row = document.createElement("tr");
    row.innerHTML = `<td>${area}</td><td>${areaSludgeFlow[area]} Litres</td>`;
    areaSummaryTableBody.appendChild(row);
}

// Cleaning Status Table
const cleaningStatusBody = document.getElementById("cleaning-status-body");
const cleaningData = drainagePoints.map(point => ({
    name: point.name,
    cleanedTimes: generateRandomCleanings(),
    nextCleaning: generateNextCleaning()
}));

cleaningData.forEach(data => {
    const row = document.createElement("tr");
    row.innerHTML = `<td>${data.name}</td><td>${data.cleanedTimes}</td><td class="${data.nextCleaning === 'Needs Cleaning' ? 'highlight' : ''}">${data.nextCleaning}</td>`;
    cleaningStatusBody.appendChild(row);
});

// Cleaning Graph (Number of Times Cleaned)
const ctxCleaning = document.getElementById('cleaningChart').getContext('2d');
const cleaningChart = new Chart(ctxCleaning, {
    type: 'bar',
    data: {
        labels: cleaningData.map(data => data.name),
        datasets: [{
            label: 'Times Cleaned',
            data: cleaningData.map(data => data.cleanedTimes),
            backgroundColor: 'rgba(54, 162, 235, 0.2)',
            borderColor: 'rgba(54, 162, 235, 1)',
            borderWidth: 1
        }]
    },
    options: {
        scales: {
            y: {
                beginAtZero: true
            }
        }
    }
});

// Sludge Flow Graph (By Area)
const ctxSludge = document.getElementById('sludgeFlowChart').getContext('2d');
const sludgeFlowChart = new Chart(ctxSludge, {
    type: 'bar',
    data: {
        labels: Object.keys(areaSludgeFlow),
        datasets: [{
            label: 'Total Sludge Flow (Litres)',
            data: Object.values(areaSludgeFlow),
            backgroundColor: ['rgba(255, 99, 132, 0.2)', 'rgba(54, 162, 235, 0.2)', 'rgba(255, 206, 86, 0.2)', 'rgba(75, 192, 192, 0.2)'],
            borderColor: ['rgba(255, 99, 132, 1)', 'rgba(54, 162, 235, 1)', 'rgba(255, 206, 86, 1)', 'rgba(75, 192, 192, 1)'],
            borderWidth: 1
        }]
    },
    options: {
        scales: {
            y: {
                beginAtZero: true
            }
        }
    }
});